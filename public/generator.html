<script>
  function generateImage() {
    const prompt = document.getElementById("prompt").value.trim();
    const msg = document.getElementById("msg");
    const result = document.getElementById("result");
    const output = document.getElementById("output");

    if (!prompt) {
      msg.innerText = "Please enter a prompt";
      return;
    }

    msg.innerText = "Generating image...";
    result.style.display = "block";

    // FREE Pollinations API
    const url = "https://image.pollinations.ai/prompt/" + encodeURIComponent(prompt);

    output.src = url;

    output.onload = () => {
      msg.innerText = "Image generated (FREE API)";
    };

    output.onerror = () => {
      msg.innerText = "Failed to generate image";
    };
  }
</script>
