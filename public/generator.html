app.post("/generate", async (req, res) => {
  try {
    const { prompt } = req.body;

    if (!prompt) {
      return res.json({ success: false, message: "Prompt is required" });
    }

    const result = await openai.images.generate({
      model: "gpt-image-1",
      prompt: prompt,
      size: "1024x1024" // âœ… SAHIHI
    });

    res.json({
      success: true,
      image: result.data[0].url
    });

  } catch (err) {
    console.error(err);
    res.json({
      success: false,
      message: err?.error?.message || "Image generation failed"
    });
  }
});
