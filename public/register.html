<!DOCTYPE html>
<html>
<body>
<h2>Register</h2>

<input id="u" placeholder="Username"><br><br>
<input id="p" type="password" placeholder="Password"><br><br>
<button onclick="reg()">Register</button>

<p id="m"></p>
<a href="/login.html">Login</a>

<script>
async function reg() {
  const u = document.getElementById("u").value;
  const p = document.getElementById("p").value;

  const r = await fetch("/register", {
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body: JSON.stringify({ username:u, password:p })
  });

  const d = await r.json();
  document.getElementById("m").innerText =
    d.success ? "Registered!" : "Error";
}
</script>
</body>
</html>
